<!DOCTYPE html>
<html>
<head>
    <title>Test Funkcji</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles.css">
    <style>
        body { padding: 20px; }
        .test-btn { margin: 5px; padding: 10px 20px; cursor: pointer; }
        .result { margin: 10px 0; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        #log { background: #000; color: #0f0; padding: 20px; font-family: monospace; white-space: pre-wrap; max-height: 400px; overflow-y: auto; }
    </style>
</head>
<body>
    <h1>üß™ Test Funkcji Aplikacji</h1>
    
    <h2>1. Zmiana Motywu</h2>
    <button class="test-btn" onclick="testTheme('pink')">Pink</button>
    <button class="test-btn" onclick="testTheme('transformers')">Transformers</button>
    <button class="test-btn" onclick="testTheme('ocean')">Ocean</button>
    <button class="test-btn" onclick="testTheme('black')">Dark</button>
    
    <h2>2. Ukrywanie Sekcji</h2>
    <button class="test-btn" onclick="testToggleSteps()">Toggle Kroki</button>
    <button class="test-btn" onclick="testToggleStudy()">Toggle Nauka</button>
    
    <h2>3. Video Modal</h2>
    <button class="test-btn" onclick="testVideoModal()">Otw√≥rz Video Modal</button>
    
    <h2>Log:</h2>
    <div id="log"></div>
    
    <script>
        function log(msg) {
            const logDiv = document.getElementById('log');
            logDiv.textContent += new Date().toLocaleTimeString() + ': ' + msg + '\n';
            logDiv.scrollTop = logDiv.scrollHeight;
        }
        
        window.onerror = function(msg, url, line) {
            log('‚ùå B≈ÅƒÑD: ' + msg + ' (linia ' + line + ')');
        };
        
        log('Strona testowa za≈Çadowana');
    </script>
    
    <script src="app.js"></script>
    
    <script>
        log('app.js za≈Çadowany');
        
        // Sprawd≈∫ funkcje
        log('setTheme: ' + (typeof setTheme));
        log('closeVideoModal: ' + (typeof closeVideoModal));
        log('openVideoModal: ' + (typeof openVideoModal));
        log('updateSectionsVisibility: ' + (typeof updateSectionsVisibility));
        log('AppData: ' + (typeof AppData));
        
        if (typeof AppData !== 'undefined') {
            log('AppData.settings.theme: ' + AppData.settings.theme);
            log('AppData.settings.showSteps: ' + AppData.settings.showSteps);
            log('AppData.settings.showStudy: ' + AppData.settings.showStudy);
        }
        
        function testTheme(theme) {
            log('Pr√≥ba zmiany motywu na: ' + theme);
            try {
                if (typeof setTheme === 'function') {
                    setTheme(theme);
                    AppData.settings.theme = theme;
                    log('‚úÖ Motyw zmieniony na: ' + theme);
                    log('Body classes: ' + document.body.className);
                } else {
                    log('‚ùå Funkcja setTheme nie istnieje!');
                }
            } catch(e) {
                log('‚ùå B≈ÇƒÖd: ' + e.message);
            }
        }
        
        function testToggleSteps() {
            log('Pr√≥ba toggle krok√≥w');
            try {
                AppData.settings.showSteps = !AppData.settings.showSteps;
                log('showSteps = ' + AppData.settings.showSteps);
                if (typeof updateSectionsVisibility === 'function') {
                    updateSectionsVisibility();
                    log('‚úÖ updateSectionsVisibility wywo≈Çane');
                } else {
                    log('‚ùå Funkcja updateSectionsVisibility nie istnieje!');
                }
            } catch(e) {
                log('‚ùå B≈ÇƒÖd: ' + e.message);
            }
        }
        
        function testToggleStudy() {
            log('Pr√≥ba toggle nauki');
            try {
                AppData.settings.showStudy = !AppData.settings.showStudy;
                log('showStudy = ' + AppData.settings.showStudy);
                if (typeof updateSectionsVisibility === 'function') {
                    updateSectionsVisibility();
                    log('‚úÖ updateSectionsVisibility wywo≈Çane');
                }
            } catch(e) {
                log('‚ùå B≈ÇƒÖd: ' + e.message);
            }
        }
        
        function testVideoModal() {
            log('Pr√≥ba otwarcia video modal');
            try {
                if (typeof openVideoModal === 'function') {
                    openVideoModal('https://www.youtube.com/watch?v=dQw4w9WgXcQ');
                    log('‚úÖ openVideoModal wywo≈Çane');
                } else {
                    log('‚ùå Funkcja openVideoModal nie istnieje!');
                }
            } catch(e) {
                log('‚ùå B≈ÇƒÖd: ' + e.message);
            }
        }
    </script>
</body>
</html>
